---
title: Analysing  tweets from the Virtual Madrid Open
author: ''
date: '2020-05-04'
slug: virtual-madrid-open
categories:
  - Tennis
  - R
tags:
  - R
  - tennis
  - sentiment analysis
  - twitter
  - wordcloud
  - leaflet
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>


<p>With the world in lockdown and no live tennis in the horizon in the near future the Madrid Open decided to organise an online tournament with male and female players facing each other using the Tennis World Tour video game.</p>
<p>I was curious to see how fans reacted to the event. I downloaded twitter data using the rtweet package. I tried to include as many relevant terms as possible, the command I used was: <code>search_tweets2(q="#MMOPEN OR #PlayAtHome OR MutuaMadridOpen OR @MutuaMadridOpen",include_rts = F,n=18000)</code></p>
<p>The query retrieved ~7500 tweets from the last 9 days, executed on May 1st, which is enough to cover the duration of the tournament. I saved the data in a file to use later.</p>
<p>Armed with the data we are ready to make some visualisations and text analysis. The tweet data is loaded in as a data.table with name <code>tw</code>.</p>
<div id="tweet-map" class="section level3">
<h3>Tweet map</h3>
<p>The tweets come with latitude and longitude coordinates for users who allowed their location to be known.</p>
<p>Using leaflet we can plot the location of the tweets to get an idea of where they are coming from. Unfortunately only a very small proportion of tweets come with location information but we will map those anyway. There are other variables in the dataset that provide information about where the tweet comes from such as city, place but itâ€™s not standardised in any way. These data could be used to derive coordinates if you were stubborn enough.</p>
<pre class="r"><code>m &lt;- leaflet() %&gt;%
     addTiles() %&gt;%  # Add default OpenStreetMap map tiles
    #addProviderTiles(&#39;Stamen.Toner&#39;) %&gt;% 
     addMarkers(lat=tw[!is.na(lat),lat], lng=tw[!is.na(lng),lng],
                     popup=tw[!is.na(lng),text]) 
m  </code></pre>
<p><div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[-38.19988735475,55.8761973,51.457877,-6.19621135,40.1687225,38.009443,55.13332045,55.1598345,55.1598345,55.1598345,55.1598345,55.1598345,51.59925535,28.1030125,-37.97256651425,39.55871005,39.55871005,39.55871005,39.55871005,39.55871005,39.55871005,39.55871005,39.55871005,50.1035907,50.1035907,50.1035907,26.4561475,-28.45340525,41.39265665,43.629311,43.27787125,43.27787125,-6.9155569,-6.9155569,7.42907465,42.394453,42.394453,6.49311225,43.2436283,25.5694737,25.5694737,25.5694737,25.5694737,25.5694737,25.5694737,25.5694737,34.0207895,35.9824705,29.8384948,-22.9333,36.251936,45.4091172,44.9346135,7.8786602,7.8786602,7.8786602,41.6916363,37.7706565,40.4777947,-33.4254004,28.1030125,40.4313888,41.6916363,37.10851325,40.31990335,15.2011325,15.2011325,15.2011325,44.787123,55.5486656,51.61188465,51.61188465,51.61188465,-33.8065285,30.0615955,34.0207895,49.3419815,42.8302591,53.1548066,53.1548066,51.67910325,41.14601905,41.14601905,41.14601905,41.14601905,41.14601905,51.5138971,55.94230005,28.4983765,35.4019815,35.4019815,35.4019815,35.4019815,50.05957995,40.655138,40.655138,40.655138,40.655138,6.6897024,-27.95422175775,52.76132755,43.73582845,57.1605562,32.6535835,35.8577,23.62541855,6.59061115,43.555244,43.555244,43.555244,43.555244,41.8984164,43.36888,45.92856115,45.92291295,40.3476735,53.8019562,29.8384948,52.11398,24.0983807,24.0983807,41.39265665,43.8806945,33.51674685,40.3341475,51.4108755,19.32838305,40.3005504,-33.429485,19.3261458,45.5578305,28.6384895,45.4827445,43.629311,40.00134,30.3834,30.3834,30.3834,30.3834,40.4,51.50378615,22.2624275,49.985057,-23.682803,50.98304269,45.0728727,35.2352865,-22.85186074,15.54795,55.466068,41.26028535,-37.97256651425,18.79171955,35.7539595,-29.85083595,53.5558197,52.01761005,50.984976,38.9293245,38.9293245,47.25082685,49.0869965,51.46468585,51.52483525,14.5464995,52.91553,53.6239735],[146.522074416,-3.1142899,-2.58539,106.8220717,-84.973784,-122.1178059,-6.66293985,-118.8117149,-118.8117149,-118.8117149,-118.8117149,-118.8117149,-0.018734,-15.45984895,145.053135344,3.249357,3.249357,3.249357,3.249357,3.249357,3.249357,3.249357,3.249357,-5.27126205,-5.27126205,-5.27126205,-80.0931798,21.26594485,2.14122735,-79.2725695,-1.9877106,-1.9877106,107.6174241,107.6174241,3.9052965,-71.2420715,-71.2420715,3.3386054,-2.2346623,85.1020385,85.1020385,85.1020385,85.1020385,85.1020385,85.1020385,85.1020385,-118.4119065,-83.9638415,-95.4464865,-43.2333,-78.9624499,12.1748172,-93.6626335,80.76465395,80.76465395,80.76465395,-0.92733235,-122.4359785,-3.70350755,-70.51891745,-15.45984895,-79.98068965,-0.92733235,-3.57099015,-3.89322605,-86.24319335,-86.24319335,-86.24319335,26.260548,-4.655906,-0.21089455,-0.21089455,-0.21089455,25.57926235,146.4647615,-118.4119065,-122.857891,-106.330781,-6.81533305,-6.81533305,-3.23023515,1.1243688,1.1243688,1.1243688,1.1243688,1.1243688,-3.42597775,-4.0086146,-81.386183,-80.6311314,-80.6311314,-80.6311314,-80.6311314,14.4658753,-73.9487755,-73.9487755,-73.9487755,-73.9487755,3.3352053,153.369361472,0.419867,11.1544972,-2.12704045,-96.55901125,-86.3947,-102.55803745,3.318066,-79.616073,-79.616073,-79.616073,-79.616073,12.54514535,-80.9843445,8.52277925,8.4322073,-74.0701315,-1.56549,-95.4464865,-2.0798,90.32870865,90.32870865,2.14122735,-79.2996725,-7.7794158,-74.2482833,-0.189289,-99.15234025,-3.6656669,-70.61075935,-99.6050475,-73.723025,77.095086,-75.6250379,-79.2725695,-74.1880345,-89.3727,-89.3727,-89.3727,-89.3727,-3.68333,-0.1891901,70.8960125,8.566941,-46.5955455,13.83831969,7.6757855,136.7583175,-43.29285691,121.09068,-4.62491655,-3.93390615,145.053135344,98.96891115,139.8539435,-51.1667104,-113.4926175,-0.22936815,-1.719032,-1.90194475,-1.90194475,9.581494,-122.2670745,-0.07060315,-0.1731149,121.03321235,-1.4707785,-113.121093],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Great comeback @Peter_Mitchell7 when goaded by Tim Watson tonight on @7NewsMelbourne on virtual Madrid Masters #MMOPEN \nTim with a smirk \"\"Well Mitch, if you want some real sport, there's a good game on @7mate tonight that you may enjoy.\"\" \nMitch \"\"It might be old but it's real!\"\"","@the_LTA @andy_murray @denis_shapo @MutuaMadridOpen Go Andy","@atptour @andy_murray @MutuaMadridOpen Well done ANDY !","#PlayatHome with STAR WARS figures and it comes with up 50% OFF\n.\nExclusive via Chat &amp; Shopâ \n.â \nGet CashBack 100K using BCA Credit Card (T&amp;C apply)\n.\nFREE SHIPPING maximum IDR 20.000 for the first 50â€¦ https://t.co/6u77MhZAlE","@kikibertens @MutuaMadridOpen When you're good you're good play like you've never played before okay","@PlayStation @AskPlayStation \nWill there be any more free games added to the #PlayAtHome initiative, maybe in MayğŸ¤”?â“","@the_LTA @andy_murray @MutuaMadridOpen @NHSuk @atptour ğŸ’•ğŸ’•ğŸ’•ğŸ’•ğŸ’•ğŸ’•ğŸ’•","Most competitive match of the tournament so far ğŸ® Well done on the battle @Bandreescu_ and pretty good result for your first tournament of the season ğŸ˜Š Keep at â€˜em! ğŸ‡¨ğŸ‡¦ https://t.co/hXynTnvoSs","@TSN_Sports @TSNTennis Are you going to be broadcasting this, considering you have the rights to 900/1000 level events? ğŸ¤” https://t.co/ffJg46yDM8","@TennisTheGame This @MutuaMadridOpen event really proves/highlights that game devs really need to up their level and release a comprehensive, high quality, @WTA @atptour player/sponsor sanctioned game with most top/popular players, on par with other top sports games ğŸ¤”","Note: Madrid is 6 hours ahead of the GTA, so if the time listed for @MutuaMadridOpen is local, than Biancaâ€™s matches would start at 14:30 (2:30pm) Bianca time â° https://t.co/cpIvQeW89h","For all the @Bandreescu_ fans out there, Bianca will play her first virtual matches on Monday the 27th starting NB 20:30 ğŸ‡¨ğŸ‡¦ I imagine the NB is â€œnot beforeâ€ but not sure what the time zone on that is; Iâ€™ll find out and add to this post ğŸ˜Š https://t.co/wbVT77VRTm https://t.co/PzdJRi3CWn","You love to see it https://t.co/Dfkenk382m","@MutuaMadridOpen @andy_murray @TennisChannels Madre mÃ­a Goffin, pecho frÃ­o hasta en la play ... ğŸ˜‚ğŸ˜‚ğŸ˜‚","WalkoverğŸ˜‚ https://t.co/Q0nkrsMkNN","Andy! https://t.co/ssjah9AIYl","He hecho unos cuantos sorteos de cuadros... Â¡Pero hoy haremos uno muy especial! A las 16:00 os espero con @Rafael_Plaza para el sorteo en directo del @MutuaMadridOpen Virtual! Â¡La lista de jugadores es ğŸ”! Â¡No llegues tarde, @feliciano_lopez!\n\nğŸ¥: https://t.co/ZUMaINsgXE https://t.co/ifk1sKiddC","Â¡Partidazo entre @DavidFerrer87 y @dieschwartzman para arrancar el @MutuaMadridOpen Virtual Pro!\n\nğŸ¥: https://t.co/4zAhqNW1VU https://t.co/Pm4h9jzZm2","@miguelangeldaza @MutuaMadridOpen Â¡AsÃ­ lo harÃ©! Son un equipo ğŸ”","FinalizÃ³ el @MutuaMadridOpen Virtual Pro con las victorias de Murray y Bertens. \n\nMe quedo, por encima de todo, con la solidaridad de muchÃ­simas personas  que han donado y que han invertido su tiempo y cariÃ±o para hacerlo posible. ğŸ‘ğŸ»ğŸ‘ğŸ» https://t.co/hMhFOtPRtN","Hoy hemos celebrado con @atptour  y @WTA el sorteo del @MutuaMadridOpen Virtual Pro. Â¡Os animo a seguirlo desde el lunes! Las causas benÃ©ficas merecen la pena. \nThanks @Rafael_Plaza! \n\nğŸ‘‰ğŸ» https://t.co/fkeYqdyoQR https://t.co/HCXLr1OWUs","@stewieALQ @DavidFerrer87 @dieschwartzman @MutuaMadridOpen EstÃ¡n en ello. Se solucionarÃ¡. QuedÃ©monos con lo positivo ğŸ˜Š","Â¡Arrancamos el sorteo del @MutuaMadridOpen Virtual PRO!\n\nhttps://t.co/ngMrOwcVtA","@MutuaMadridOpen @WTARomania Iâ€™ve got a reason to live again, itâ€™s completion, the sea, it may be small but itâ€™s a huge hope for you all. Romania forever Hallep foreve big waves for Nathan. Never give up. Itâ€™s soul.","@MutuaMadridOpen @dieschwartzman @andy_murray Come on Andy","@simonahalep5 @Simona_Halep @MutuaMadridOpen Babe!! Im going slightly grey in my hair (silver surfer). Before we get too old. Iâ€™m well today. Have a great day. Tony, Darren, nik, Arti dNiel and Tania and friends and family peace be with you","@TennisChannel @andy_murray @MutuaMadridOpen Three Grand Slams, 14 @ATPMasters titles, 2 Olympic Gold in singles and a Davis Cup win. Now @andy_murray can add the @MutuaMadridOpen Virtual Pro title to his collection. Sport's new reality! Well played Andy &amp; well done to @feliciano_lopez &amp; his staff for an innovative idea!","@atptour @MutuaMadridOpen @andy_murray The champion is backğŸ‰ğŸ‰ @andy_murray","That tie break was genuinely tense! ğŸ˜‚ https://t.co/tdTsZeKab1","The #MMOpen tweeting results of Virtual Pro with headlines. How far we have fallen in the world of sport. Goodness. I know they desperately need content, but it's so incredibly cringeworthy ğŸ˜‚","Como termino el @David__Goffin v @StefTsitsipas the game in @MutuaMadridOpen ... #virtualtenis","@BelindaBencic ETXERA @nataliallovovic #virtualtenis @ConexionTDP_tve @feliciano_lopez  @kikibertens AURRERA..engancha el #virtualtenis .. @MutuaMadridOpen","#athome si Boi coba2 main air gerimis. Trus doi seneng, ga mau masukğŸ˜….\n#kangenjalanjalan tapi #dirumahajadulu #keluarseperlunya\n.\n.\n.\n#stayathome against #covid_19 #playathome #2020 #april #denzelgabrieltheonardyâ€¦ https://t.co/j5g8sxwG45","Lil designer &amp; his tab. ğŸ˜\n#kangenjalanjalan tapi #dirumahajadulu #keluarseperlunya\n.\n.\n.\n#athome #stayathome against #covid_19 #playathome #2020 #may #denzelgabrieltheonardy #davidvaniajourney #familylife @ Salt &amp;â€¦ https://t.co/n9SickzCuB","Toor okay https://t.co/dUJ5REQbkk","Yes https://t.co/OuWefQoW5O","Class act from @dieschwartzman https://t.co/jVV2mJdj4D","What game is this\nI think it's sacrilegious that we've not had a top tier tennis game in close to a decade https://t.co/kqW751swuN","@BelindaBencic @MutuaMadridOpen ğŸ”performance","subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/gClrP4EUW3","subscribe - https://t.co/lVejK0sXH8\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/LfrewKFupx","subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/goSCX03kkz","subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/M6DFPSdbdQ","subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/HyO9A2yo1D","subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/nclDCvzIkK","subscribe - https://t.co/lVejK0bmPA\n\n#gharbaithoindia #LifebuoyKarona #playathome #abhishekanand4u #foryou #foryoupage https://t.co/YTgdhFa7a0","Ouuuu #escaperoom #PlayAtHome https://t.co/9l6M0Kdd4V #affiliate https://t.co/DHnyj4vSyt","Tomorrow night I have to choose between #playathome d&amp;d, the @parksandrecnbc reunion, or the Three 6/Bone Thugz Instagram #Verzuz. Truly a kingâ€™s ransom of quarantine activities. My modem can handle all three, but can my heart?","#WTA La tenista Louisa Chirico jugando en el @MutuaMadridOpen en el 2016. El Mutua Open se hubiera celebrado esta semana. @Louisa_Chirico ğŸ¾ https://t.co/4FkLTWv4KY","I recorded this video for the PRS guitars challenge!\n\n@prsguitars \n#Playathome\n#myPRS em Tijuca, Rio De Janeiro, Brazil https://t.co/DWLyZYa0dd","You can help our #healthcareheroes &amp; other essential employees during the #COVID19 pandemic. \n\nHow? #StayatHome &amp; #PlayatHome in #Durham. https://t.co/lSByWqtZu9","@MutuaMadridOpen @dieschwartzman @andy_murray Is it a joke? The correct score is 3-0! https://t.co/feYNJjwtty","@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ No mÃ¡s faltÃ³ que bailes ğŸ˜‚ğŸ¤£ https://t.co/fijdHzOdAj","Watching #Techstorm #esports on @dialoglk TV @Quantic_Dream's #DetroitBecomeHuman one helluva video game. I am watching this &amp; I'm playing #BeyondTwoSouls these days which is a awesome game too, loving it. @EllenPage performance is epic. #Sony #PlayStation4 #PlayAtHome #StayHome https://t.co/CvfX5V9VIs","Just now finished #BeyondTwoSouls absolutely brilliant @Quantic_Dream #DavidCage. @EllenPage &amp; #WillemDafore both of your acting is simply magnificent. I chose #Life #Sony #Playstation4 #StayHome #PlayAtHome https://t.co/QjVdHiCDWw","Video games and unemployment... Not losing my mind, not at all... Thank you #Sony #Playstation4 #StayHome #PlayAtHome #LKA #SRILANKA","@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ Jajajjajajaa, que Showman estas hecho...","â€œWeâ€™ll Meet Againâ€ piano cover Quarantine Cabaret w Kitten on the Keys https://t.co/0N4YpjcB5g via @YouTube @kittenonthekeys #piano #playathome #quarantinecabaret #wellmeetagain","Â¿Podemos decir que los juegos del @PSPlusES de este mes son 1 mierda?\nConfirmamos, los juegos de este mes son una autÃ©ntica mierda pinchada en 1 palo. \nEsperemos que saquen un 2@ #PlayAtHome mejor, porque no veas... se han lucido totalmente ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ https://t.co/FDCm1t7wSy","@ATPTour_ES @andy_murray @feliciano_lopez @MutuaMadridOpen Andi yu si mi?","@Gravesen_1 @MutuaMadridOpen Te llevaste la victoria esta vez, aunque espero poder tener una revancha! ğŸ˜‰ Un placer y mucha suerte en la siguiente ronda ğŸ’ªğŸ»","All you need to make music is  â¤ğŸ’œğŸ’™ğŸ’šğŸ’›\nEnjoy this piece \"\"Quaratine\"\" by Camilo Jauregui performed by Mr. DeLuca from his kitchen counter! ğŸ´ğŸ¥£ğŸ§‚ğŸ¥›ğŸ¶\n#PlayAtHome\n#MusicAnywhere #MusicEverywhere https://t.co/bke74aDg7P","@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ Contra quiÃ©n toca hoy???","@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ ğŸ¤£ ğŸ¤£ Muy top!","@BorjaIglesias9 @MutuaMadridOpen @brunonieto_ ÃDOLO ğŸ¤£ğŸ¾","@BelindaBencic @MutuaMadridOpen Go Belinda and get yourself into the second round of @MutuaMadridOpen!","@ESPNtenis @MutuaMadridOpen @ElinaSvitolina @AngeliqueKerber @KaPliskova @DonnaVekic All of them beautiful!","@atptour @fabiofogna @MutuaMadridOpen La idea de este torneo virtual es genial!","@MutuaMadridOpen @sorana_cirstea @ElinaSvitolina @JohannaKonta @vika7 Sorana ğŸ˜","The quarter-final line-up for the Mutua Madrid Virtual Pro has been set.\n\nTodayâ€™s match-ups include: \n\nğŸ‡¬ğŸ‡§Andy Murray vs ğŸ‡©ğŸ‡ªAlexander Zverev\nğŸ‡¦ğŸ‡·Diego Schwartzman vs ğŸ‡®ğŸ‡¹Fabio Fognini\nğŸ‡¬ğŸ‡·Stefanos Tsitsipas vs ğŸ‡ªğŸ‡¸David Ferrer\nğŸ‡§ğŸ‡ªDavid Goffin vs ğŸ‡«ğŸ‡·Benoit Paire\n\nWhoâ€™s your pick? \n\n#MMOPEN","Wendy Darling as a pirate! ğŸ´â€â˜ ï¸ YES! Canâ€™t wait for me &amp; Pops to try this one out. ğŸ‘ğŸ´â€â˜ ï¸ FREE play to download fellow parents /anyone with kids to entertain OR if you need some theatrical fun today ğŸ¥³ #PlayAtHome https://t.co/PsMIbGrSk8","Thrilled to be co-producing this with @RachelBarnett02 &amp; our company @flyhighstories FREE NEW PLAYS for you to do AT HOME! For families or for anyone who loves #theatreforyoungaudiences stay safe stay at home #PlayAtHome https://t.co/1xieEryndT","ITS READY! @flyhighstories AT HOME project. First THREE plays are online ready for families to read/perform/play with at home for FREE. Iâ€™m so excited &amp; proud of this. Please check them out! #playathome https://t.co/l2OGc7vPK9","Car number 2 done: Shout out to the best crew in the streets of @CSRRacing \n#PlayApartTogether \n#ilovecars \n#CSRRacing \n#PlayAtHome https://t.co/97CzfSB6Qc","ã“ã‚“ãªæ™‚ã ã‹ã‚‰ã“ãå¤§é‡æ–­æ¨é›¢â€¼ï¸\nãŸãã•ã‚“ã®ãƒ”ã‚¢ã‚¹ã€ã•ã‚ˆã†ãªã‚‰ğŸ‘‹\n\nhttps://t.co/SUz3pwDVWc\n\n#å¤§æƒé™¤ ã™ã‚‹ #ãŠã†ã¡æ™‚é–“ ğŸ‘ğŸ’¡\n\n#stayhome #ãŠã†ã¡ã‚¨ãƒ–ãƒª #ãƒ”ã‚¢ã‚¹å¥½ãã¨ç¹‹ãŒã‚ŠãŸã„ #ãƒ”ã‚¢ã‚¹å¥³å­ #STAYHOMEé€±é–“ #ã‚¹ãƒ†ã‚¤ãƒ›ãƒ¼ãƒ  #StaySafe #æ–­æ¨é›¢ #PlayAtHome https://t.co/olPBJQbepv","Late Show with Stephen Colbert: John Fogerty \"\"Have You Ever Seen The Rain\"\" - #PlayAtHome https://t.co/TB7Wr2T3Og via @YouTube","Miss them games #basketball #hockey #sport #rugby @SportHostingVan @MyVancouver #Vancouver #PlayAtHome https://t.co/rpE78sqVWU","John Fogerty \"\"Have You Ever Seen The Rain\"\" - #PlayAtHome https://t.co/RMsenN9xgF via @YouTube","@BellshawGeorge @MutuaMadridOpen when did Svitolina and Konta play this and how come it wasnâ€™t streamed? Thanks","@shawnspencer96 @MutuaMadridOpen @sorana_cirstea https://t.co/KHGbIxuDGg","@the_LTA @JohannaKonta @MutuaMadridOpen @CaroWozniacki How do I watch this virtual tennis?","@David___Llorens @adellfdez @MutuaMadridOpen @Doural28 No me hace falta animarme, estoy con ella en casa jugando un rato! https://t.co/t518rykC7x","@David___Llorens @charlyygarcia_ @MutuaMadridOpen @Doural28 @Adr11an_ @Monleon_P @DrefanHardy @Cristian10VM @TheMagician5GS @AlejanMilos @RealNiKLo https://t.co/Hpt2Va7r60","#TeamBibi #TeamVika https://t.co/8WG6s7QSNl","Elina dejÃ¡ndose perder para que no pase Vika, lamentable. Los celos porque Monfils quiere mÃ¡s a Vika que a ella https://t.co/9RdpD7WuM0","@MutuaMadridOpen @Bandreescu_ https://t.co/BhcDeOTW0A","We have created a video with some ideas of activities for you to do whilst at home head over to YouTube for the full video\nhttps://t.co/1Ke1Evh8yd\n\n#StayHome #PlayAtHome #COVID19 https://t.co/hz4iFhGc9T","@the_LTA @andy_murray @RafaelNadal @MutuaMadridOpen Prefer @andy_murray doing his own commentary ğŸ˜","@Madison_Keys @MutuaMadridOpen https://t.co/N1ohXry2za","@MutuaMadridOpen @nikkori89506411 Nishikori. â¤ï¸ğŸ¾â¤ï¸ğŸ¾ Go Kei.","@MutuaMadridOpen Please do a tweet giving viewing methods. I'm sure you have already, but now you need to make at least 2 or 3 tweets about this. Starting times only help if you know where to find it. Thank you from all of us who missed this info before. â¤ï¸ğŸ¾â¤ï¸ğŸ¾â¤ï¸ğŸ˜ğŸ˜","@MutuaMadridOpen I couldn't follow your schedule. Didn't seem accurate. Will it be better? Also, every time I went to watch, all I saw were commentators and snippets of matches.","@keinishikori @MutuaMadridOpen Go Kei! ğŸ’ªğŸ’ªğŸ¾â¤ï¸ğŸ¾â¤ï¸","PrvnÃ­ vÃ½hra @KaPliskova na @MutuaMadridOpen ğŸ˜… (3:1) https://t.co/RWS4vrHslJ","Stream dying when Isner plays, we stan @MutuaMadridOpen","Most winners in Caroline Wozniackiâ€™s career https://t.co/1LJbn6iYvg","Kill her Donna ğŸ¥µ https://t.co/EBmMN2xkl9","The @MutuaMadridOpen is shaking https://t.co/QVE3OfPuib","Were you able to watch these games @LifeOfAdunni? https://t.co/4rVBA3gFIw","This is going to be epic! If youâ€™re a #StarWars fan and love a bit of #trivia, be sure to get a team together, have a laugh and get involved. Comp starts May 4th at 6pm AEST on https://t.co/CV8XNXE1Fz #aussieED #PlayAtHome  #starwarstrivia #edutwitter https://t.co/NBvL1TtFZZ","@MutuaMadridOpen Nishikori","@BelindaBencic @MutuaMadridOpen https://t.co/PTR31Mvd7N","This is great! ğŸ™ŒğŸ½ #buildingresiliance #PlayAtHome https://t.co/nMJglqe4lS","@AngeliqueKerber @MutuaMadridOpen Hello beautiful","When you send your video guy a take and he sends this back as your thumbnail pic for the song! To check out the next one, hit that YouTube link in bio and subscribe much appreciated\n.\n.\n.\n#myprs #playathomeâ€¦ https://t.co/Md6aLIRclQ","@KaPliskova @MutuaMadridOpen Omg i love that Dual! ğŸ˜ğŸ˜ğŸ˜","@LifeOfAdunni @JJlovesTennis @MutuaMadridOpen @JohannaKonta ğŸ˜ğŸ˜","Genie ğŸ‡¨ğŸ‡¦ will play 2 matches tomorrow in the virtual @MutuaMadridOpen \nFirst Match \nBouchard vs Vekic\n\nSecond Match\nBouchard vs Bertens\n\n#GeniearmyğŸ¾ #Webelieveinbouchard @geniebouchard goodluck u got this ğŸ‘ğŸ‘ğŸ‘ğŸ‘","Bianca ğŸ‡¨ğŸ‡¦ will play 2 matches on the virtual @MutuaMadridOpen tournament\n\nFirst Match\nBianca vs Wozniacki\n\nSecond Match\nBianca vs Keys \n\n#bianca #andreescu @Bandreescu_ good luck on the tournament","Bibi ğŸ‡¨ğŸ‡¦ wins 4-3 in a tiebreaker #virtualmadridmudala @MutuaMadridOpen","Lets go Eli good luck on the tournament @MutuaMadridOpen even thought it's virtual #FamEli #mutuaMadridopen @ElinaSvitolina https://t.co/v7GvlX6Tv2","vamos Peque carajo https://t.co/4PYsqqXcve","@KaPliskova @MutuaMadridOpen I bet you lost on purpose â˜˜ï¸ğŸ¾","Il genio di @feliciano_lopez e tutti gli sono andati dietro ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£\nDa @Eurosport_ES alla @BBCSport passando dal @CorSport...\nUn genio ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£\n#MMOPEN #Nadal https://t.co/VzKmtLIRbU","Vamos a Ganar ğŸ’ªğŸ¼ğŸ¾ğŸ®ğŸ¤£ğŸ¤£\n#VamosRafa #MMOPEN https://t.co/v8JDZagHD4","Connected Coaches Episode #2 with @FocusGolfGroup @RudyGonzalezIII and @Blazer_Justin. We talk about indoor putting drills and how to keep your game sharp at home. Episode #3 coming later this week! https://t.co/lUoNcwAwGY via @YouTube #ConnectedCoaches #GolfTips #PlayAtHome","This is so captivating! Watching top professional tennis players play each other on the play station! Loving it! Will you be doing a special podcast @TennisPodcast ? ğŸ˜† https://t.co/hLcbLQiJwM","Wildcat Tennis! Click on the blog to view Best Stretches for Tennis Players @Humble_Tennis #elevatetoexcellence  #wildcatPRIDE #PlayAtHome #TennisAtHome #HealthyAtHome #tennis @HumbleISD @HumbleISD_HHS @HumbleISD_Ath https://t.co/BAYdF1Bbl4","Evening S&amp;C following my edgbastonpriorytennis home training programme. Today was lower body, will be also doing some footwork drills.  Had a bit of the @mutuamadridopen virtual tennis on in the background ğŸ¾ğŸ®â€¦ https://t.co/V0KS5pDMsM","@rnadalacademy @RafaelNadal @MutuaMadridOpen Vamos Rafa","Vamos Babe @RafaelNadal https://t.co/AirqbR7mtD","@MutuaMadridOpen virtual tournament is not a bad idea but can the commentators shut the fuck up and let hear @JohnIsner and Schwartzman?","@BelindaBencic @MutuaMadridOpen ğŸ˜‚ğŸ‘ğŸ¼","@KaPliskova @MutuaMadridOpen ğŸ¤","@MutuaMadridOpen @feliciano_lopez The English link doesn't work https://t.co/RRY5aigNsR","@MutuaMadridOpen @KaPliskova @fioferro Eek!","Jajajaja venga manacori #nadal #madridvirtual #mutuamadridopen\nHabrÃ­a que ver las habilidades predeterminadas en la consola a uno y otro jugador. https://t.co/CcaWIWuG8e","@viciuslab @MutuaMadridOpen Dale primo dale!!!","@BelindaBencic @MutuaMadridOpen Visualization ğŸ˜‰","Lo de hoy... #pandemicbarbie #stayhome #quedateencasa #Barbie #barbiedoll #PlayAtHome https://t.co/nQEHUs3qrC","@jessicamimi7 @MutuaMadridOpen After what thiem said yesterday?","Participate in a contest of Game of Scores and stand a chance to win #REALCASH upto 1 Lakh!*\rRegister Now: https://t.co/Um8RM4BZqy\r\r#Gamming #WinRealCashPrize #PlayAtHome #gharpebaithochallenge #ContestAlert  #QuizTimeMorningsWithGameofScores  #MondayMotivaton #MondayMorning https://t.co/6ssJS9qys2","@MutuaMadridOpen @geniebouchard @DonnaVekic Go GenieğŸ‡¨ğŸ‡¦","Thanks @PlayStation, what a great initiative! \n\nDonâ€™t forget to grab your #free games here: https://t.co/aQeLUaWjKH\n\n#StayHome #PlayAtHome https://t.co/PggOBGp0uG","@ElinaSvitolina @MutuaMadridOpen @Nikecourt @Hublot Great shots!!!â­ï¸ğŸ‘ŒğŸ’ªğŸ‘ŠğŸ‘â˜ï¸ğŸ”¥","@gish this one is for #teamspnbtchjrk duplicate a TV dinner challenge #gish #playathome #gishplayathome2020 #spnfamily #tvdinner @ Diamondhead, Mississippi https://t.co/NPUSNNWUqi","@gish this one is for #teamspnbtchjrk video call/ugly shirt challenge #gish #playathome #gishplayathome2020 #spnfamily #uglyshirt @ Diamondhead, Mississippi https://t.co/9x9s8PiQ4v","@gish this one is for #teamspnbtchjrk toilet paper altar challenge #gish #playathome #gishplayathome2020 #spnfamily #toiletpaper @ Diamondhead, Mississippi https://t.co/xGWVDmZ975","@gish this one is for #teamspnbtchjrk virtual hug challenge #gish #playathome #gishplayathome2020 #spnfamily #virtualhug done with my bff @jeanellesonnier @ Diamondhead, Mississippi https://t.co/SXNEjCQKKt","El peque ya tiene su primer rival del #mmopen ğŸ‘¦ğŸ¼ğŸ‘¦ğŸ¼\n.\nTODA LA INFO en en https://t.co/O6v39Tvfxu\n.\n.\n.\n.\n.\n.\n.\n.\n#AtpTour #AtpWorldTour #Wta #TenisMasculino #TenisFemenino #TenisTime #TennisPlayers #TennisAtHomeâ€¦ https://t.co/uWF5Bl006V","Few to get you going... enjoy!\n\nHeating\nAl Pacino battles Robert Di Niro for control of the thermostat.\n\nGhosting \nAn autobiographical tale of a serial Tinder dater. \n\nReservoir Dogging \n- Iâ€™d rather not say... ğŸ˜\n\n#IsolationGames #PlayAtHome https://t.co/S0ipVZIa5B","INDIA WON WORLD CUP ğŸğŸ‡®ğŸ‡³\n#WCC2 #PlayAtHome #CricketConnected #WorldCup #kingkohli #MSDhoni #enjoyathome https://t.co/A4wfDRgUiJ","@ElinaSvitolina @MutuaMadridOpen @Nikecourt @Hublot Sexy","E o torneio de tÃªnis de Madrid que, ao ser cancelado pelo Corona, decidiu: â€œquer saber? Vamos manter esse treco pelo vÃ­deo game mesmo!â€. Sensacional.  ğŸ˜‚ https://t.co/q9c2xQfZ6F","#playground #quarantine #nokids #silence #silencio #bobcat #play #playathome #toys #toystory #toystagram #playtime #kids #kidsroom #nature #outsideisfree #outsideisfree #mitkindernunterwegs #baby @ GroÃŸluga, Sachsen,â€¦ https://t.co/fjlIQgc1N4","The main actors of the WWII\n#warzag #strategic #boardgame #history #giochidatavolo #ComingSoon #followme #oninstagram #PlayAtHome #players #leaders #WorldWar2 #boardgames #italy #Germany #uk #Russia #basegame #comment #support #project https://t.co/WGoMaCejvu","@keinishikori @MutuaMadridOpen åœ­ãã‚“ãŠã†ãˆã‚“ã—ã¦ã‚‹ã‚ˆ\nãŒã‚“ã°ã£ã¦ https://t.co/a5SCc9mAlM","Carpe diem \nğŸƒ\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n.\n#brasilğŸ‡§ğŸ‡· #carpediemplanner #instabeaches #ilhagrande_bra #ilhagrande #playathome #nacagi #saturdayvibes #sol #bikini #nacagiphoto #canonphotographyâ€¦ https://t.co/lxFkQbastA","20200425\nAbra Community Day ğŸ’™ğŸ’›â¤ï¸\n\npokemongoapp\nnianticlabs\n\n#PokemonGo #abracommunityday #counter #fastmove #pokemon #PlayAtHome #StaySafe #StayHome #InvestigatingIllusions #psychic #FingerAbs @ Palayan City https://t.co/OC2w0e8nF9","@MutuaMadridOpen Had tickets to come to the real thing in Madrid. Will pour a long cool drink and watch this instead...from the sofa in Scotland.","@sacary7 @MutuaMadridOpen Pero si no das una bien.","@CarlaSuarezNava @MutuaMadridOpen @WTA Vamos Carla!!! ğŸ’ªğŸ’ªğŸ’ª","#StayHome  #PlayAtHome \n#PokemonGOCommunityDay https://t.co/1k5Lx9IMaO","ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ğŸ˜ƒâ˜€\n4/25 #æ­©é“æ©‹ã®æ—¥\nããƒ¼ã„ãˆã°ã“ã“ä½•å¹´ã‚‚ã€\næ­©é“æ©‹ã‚’åˆ©ç”¨ã—ã¦ãªã„ã§ã™ã€‚\né§…å‰ç›´çµã‚¹ã‚¿ã‚¤ãƒ«ãªã‚‰ã‚ã‚Šã¾ã™ãŒã€‚ã€‚\n\nã•ã¦ã€‚ä»Šæ—¥ã¯ã‚±ãƒ¼ã‚·ã‚£ã€‚\n#æ—©é€Ÿã‚¤ãƒ­ãƒ\n#ã‚ã¾ã‚Šã‚¤ãƒ­ãƒæ„Ÿãªã—\n#playathome\n#ãŠã“ã†3æ™‚é–“ww https://t.co/0XAO7hojF7 https://t.co/1Y9fmlRPxT","@MutuaMadridOpen Thiem","Weâ€™re missing 8 members of our #GISH #PlayAtHome team, is anyone part of Rhoades2Victory? @GISH #rolecall #scavengerhunt","@DonnaVekic @BelindaBencic @MutuaMadridOpen solid and consistent!","Thanks for your time @feliciano_lopez and congratulations on a great draw! Good luck with the #PlayAtHome #MMOpen @MutuaMadridOpen Hasta la vista ğŸ‘ https://t.co/Cmg5kTvelb","@MutuaMadridOpen @DavidFerrer87 No he visto a Deliciano en el cuadro va a ser director virtual del torneo?","@MutuaMadridOpen @DavidFerrer87 Nadal por supuesto..","@MutuaMadridOpen @atptour A gde vam je djokovic Majmuni","Looking for some cheap and easy entertainment to stimulate your brain? DIY (bilingual) puzzle races using a cracker box! Play against a family member or time yourself.  Challenge yourself further by mixing together ALL the pieces and try to solve both sides! #PlayAtHome #diy https://t.co/bEV0piRjXu","If youâ€™re looking for something to keep you busy this weekend - weâ€™ve launched another #PlayAtHome game!! ğŸ‘ğŸ¼ğŸ’ #PlayApartTogether https://t.co/igYETcSuu7","Tomorrow tomorrow I love ya tomorrow youâ€™re only a dayyyy aaaaawaaaayyyy! ğŸ˜ #GISH #PlayAtHome","My favorite players taking part in the @MutuaMadridOpen Virtual Pro tournament. I hope @DonnaVekic wins! ğŸ†ğŸ¼ğŸ¾ https://t.co/4D1f21JBBO","The best game ever! #stayathome #playathome https://t.co/t8WctpQscM","#PlayAtHome https://t.co/ebqTaTSyeY"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-38.19988735475,57.1605562],"lng":[-122.857891,153.369361472]}},"evals":[],"jsHooks":[]}</script>

Even with the small proportion of tweets we can get an idea of where the audience for the tournament is. Leaflet provides nice interactivity, you can the map; if you click on the location pins you get the tweet.</p>
</div>
<div id="global-audience" class="section level3">
<h3>Global audience</h3>
<p>Tennis is known to be a very interantional sport with fans all around the world. Separately from mapping the tweet locations we can examine which languages are most represented in the tweet set.</p>
<pre class="r"><code>ggplot(tw[,.N,lang][N&gt;50], aes(x=lang,y=N)) + geom_bar(stat=&quot;Identity&quot;) + theme_bw()</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>As expected English is the most represented language followed by Spanish. Not a big surprise since the tournament took place in Spain. Japanese comes in a surprising 3rd place due to the presence of Kei Nishikori.</p>
</div>
<div id="sentiment-analysis" class="section level3">
<h3>Sentiment analysis</h3>
<p>So, how do people feel about this first attempt at an online tournament? We can use sentiment anlysis to go through all the tweets and classify them into positive or negative sentiment. There are several ways to do this, here I will opt for using the <code>sentimentr</code> package which comes with some neat functions that evaluate sentiment directly without having to tokenise or pre-process the data.</p>
<p>Hereâ€™s an example of how the package works. We take an example tweetâ€¦</p>
<pre class="r"><code>exampleText&lt;-tw[lang==&quot;en&quot;,text][129]
exampleText</code></pre>
<pre><code>## [1] &quot;I thought the next gen would dominate the virtual #MMOPEN and one of them would be the champs. \n\nIt turned out that one of the big 4 stole the victory.\n\nShame on you, next gen &lt;U+0001F609&gt;&lt;U+0001F61D&gt;&lt;U+0001F604&gt;&quot;</code></pre>
<p>â€¦and then apply the <code>sentiment_by</code> function to the tweet.</p>
<pre class="r"><code>sentiment_by(exampleText)</code></pre>
<pre><code>##    element_id word_count        sd ave_sentiment
## 1:          1         34 0.1980625    -0.1427715</code></pre>
<p><code>sentiment_by</code> takes the terms in the tweet and associates them to positive or negative sentiments to produce an average sentiment for that tweet. It also outputs thw word count and a standard deviation measure. In this case we can see that the sentiment is negative but given that the stadard deviation is larger than the estimate we cannot be absolutely certain.</p>
</div>
<div id="language-barrier" class="section level3">
<h3>Language barrier</h3>
<p>Since the sentiment analysis pacakge is geared to work with English only my original idea was to take all the tweets in the most prevalent non-English langauges and translate them to English.</p>
<p>To that end I was planning to use <code>TextBlob</code>; a python pacakge for text analysis that comes with translation capabilities without requiring API keys.</p>
<p>For those paying attention you would have noticed that I casually mention python. Thatâ€™s right. Using the <code>reticulate</code> package you can import python modules into R! I thought thatâ€™s pretty cool and wanted to showcase it in this analysis.</p>
<p>Unfortunately, the translate funtion in <code>TextBlob</code> actually has a limit to how much it can translate and that limit was nowhere close enough to translate all the tweet I have.</p>
<p>In any case, this is how you would go about it:</p>
<p>Import the python module and use it to make a text blob:</p>
<pre class="r"><code>require(reticulate)</code></pre>
<pre><code>## Warning: package &#39;reticulate&#39; was built under R version 3.5.3</code></pre>
<pre class="r"><code>tb&lt;-import(&quot;textblob&quot;) #Import TextBlob
spanishTweet&lt;-tb$TextBlob(tw[lang==&quot;es&quot;,][1,text]) #create a blob
spanishTweet</code></pre>
<pre><code>## Hoy deberÃ­a de dar comienzo el @MutuaMadridOpen. Volveremos a disfrutar como siempre, como nunca. https://t.co/GOT7Yp4Eg8</code></pre>
<p>Do the actual translation:</p>
<pre class="r"><code>trans.spanishTweet&lt;-spanishTweet$translate(from_lang = &quot;es&quot;, to=&quot;en&quot;)
trans.spanishTweet</code></pre>
<pre><code>## Today should start @MutuaMadridOpen. We will enjoy again as always, like never before. https://t.co/GOT7Yp4Eg8</code></pre>
<p>The cool thing here is that we are using python within R. This specific case didnâ€™t turn out like I wanted it to but think of the possibilities! Anyway, moving onâ€¦</p>
</div>
<div id="the-actual-analysis" class="section level3">
<h3>The actual analysis</h3>
<p>We are not able to get translated tweet so for now weâ€™ll restrict our view to English tweets only.</p>
<p>Also, Iâ€™m interested in the fansâ€™ opinions so I will remove what I call â€˜officialâ€™ accounts. These include the accounts for the tournament, offcial bodies and broadcasters.</p>
<p>Finally, in my first pass at this I found I was getting some non-tennis related terms back. Turns out the #PlayAtHome term brings in tweets from other events such as concerts, other gaming events, etc. Since this is a quick analysis I decided to get rid of tweets with that hashtag.</p>
<p>We can now calculate sentiment for all the remaining tweets.</p>
<pre class="r"><code>twen &lt;- tw[lang==&quot;en&quot;]
offical&lt;-c(&quot;MutuaMadridOpen&quot;,&quot;the_LTA&quot;,&quot;TennisChannel&quot;,&quot;WTA&quot;,&quot;atptour&quot;,&quot;Tennis&quot;,&quot;Eurosport_UK&quot;)
twen&lt;-twen[!screen_name %in% offical]
twen&lt;-twen[!grep(&quot;tHome|thome&quot;,text)]
sent &lt;- sentiment_by(get_sentences(twen[,(text)]))</code></pre>
<p>How is the sentiment distributed?</p>
<pre class="r"><code>ggplot(sent,aes(ave_sentiment)) + geom_histogram(bins=50) + theme_bw()</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>There is a big peak at 0 which represents neutral tweets. The distributions to either side of 0 show that sentiment is more positive than negative. So it seems that in general people liked the idea of the virtual Madrid Open.</p>
<p>Letâ€™s remove the neutral-sentiment tweets and plot the histogram again this time looking at the evolution per day.</p>
<pre class="r"><code>twen&lt;-bind_cols(twen,sent)
twen[,sent_dir:=ifelse(ave_sentiment&lt;0,&quot;Negative&quot;,ifelse(ave_sentiment&gt;0,&quot;Positive&quot;,&quot;Neutral&quot;))]
ggplot(twen[abs(ave_sentiment)&gt;0 &amp; date(created_at)&lt;&quot;2020-05-01&quot;],aes(ave_sentiment, fill=sent_dir)) + geom_histogram(bins = 50) + facet_wrap(.~date(created_at)) + theme_bw()</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>The tournament started on the 27th. From these charts we can see how interest starts building up in the days prior and then peaks on the day the tournament starts. The number of tweets then decreases each day before having a bump on the final day.</p>
<p>In terms of sentiment we can see that positive outweights negative every day but from the histograms it is not easy to see if the proportion changes.</p>
<p>We can tabulate the proportion of postive and negative tweets.</p>
<pre class="r"><code>percs&lt;-twen[abs(ave_sentiment)&gt;0 &amp; date(created_at)&lt;&quot;2020-05-01&quot;,.N,.(date(created_at),sent_dir)][sent_dir!=&quot;Neutral&quot;][,.(sent_dir,p=round(100*N/sum(N))),date]
kable(dcast(percs,sent_dir~date,value.var=&quot;p&quot;),format = &#39;html&#39;) %&gt;% kable_styling(bootstrap_options = &#39;striped&#39;)</code></pre>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
sent_dir
</th>
<th style="text-align:right;">
2020-04-23
</th>
<th style="text-align:right;">
2020-04-24
</th>
<th style="text-align:right;">
2020-04-25
</th>
<th style="text-align:right;">
2020-04-26
</th>
<th style="text-align:right;">
2020-04-27
</th>
<th style="text-align:right;">
2020-04-28
</th>
<th style="text-align:right;">
2020-04-29
</th>
<th style="text-align:right;">
2020-04-30
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Negative
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
24
</td>
</tr>
<tr>
<td style="text-align:left;">
Positive
</td>
<td style="text-align:right;">
77
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
77
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
76
</td>
<td style="text-align:right;">
77
</td>
<td style="text-align:right;">
76
</td>
</tr>
</tbody>
</table>
<p>The proportion of positive sentiment is in the high 70s and 80s for most days. The glaring exception happened on the 27th when the tournament started. Negative sentiment goes up to 32%. Letâ€™s try to figure out why by looking at some wordclouds.</p>
</div>
<div id="wordclouds-from-sentiment-terms" class="section level3">
<h3>Wordclouds from sentiment terms</h3>
<p>The <code>extract_sentiment_terms</code> function tells us which terms in the tweets contributed to the sentiment score.</p>
<pre class="r"><code>terms&lt;-extract_sentiment_terms((twen[,text]))</code></pre>
<p>We can visualise these terms using the <code>wordcloud</code> package. I will make one cloud for positive terms and one for negative ones.</p>
<p>Before constructing the clouds Iâ€™m removing stop words, common terms like â€˜atâ€™,â€˜theâ€™,â€˜inâ€™, that do not contribute to sentiment. Apart from the terms in the stop_words array provided by the <code>tidytext</code> pacakge Iâ€™m also removing some custom terms that will be very common in our tweet set but which wonâ€™t tell us much about sentiment.</p>
<p>The postive-term cloud:</p>
<pre class="r"><code>my_sw&lt;-c(stop_words$word,&quot;virtual&quot;,&quot;pro&quot;,&quot;play&quot;,&quot;game&quot;,&quot;tennis&quot;,&quot;players&quot;,&quot;madrid&quot;,&quot;match&quot;,&quot;video&quot;,&quot;games&quot;,&quot;player&quot;,&quot;players&quot;,&quot;tournament&quot;)

u&lt;-data.table(words=unlist(terms[,positive]))[,.N,words][order(-N)]
u&lt;-u[!words %in% my_sw]
par(mfrow=c(1,2))
wc_pos&lt;-wordcloud(words = u$words, freq = u$N, min.freq = 1,max.words=200, random.order=FALSE, rot.per=0.35,colors=brewer.pal(8, &quot;Dark2&quot;))</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Positive terms are what you would expect with things like â€œwinâ€, â€œfunâ€, â€œluckâ€ and â€œcongratsâ€ having the biggest size.</p>
<p>The negative-term cloud:</p>
<pre class="r"><code>u&lt;-data.table(words=unlist(terms[,negative]))[,.N,words][order(-N)]
u&lt;-u[!words %in% my_sw]
wc_neg&lt;-wordcloud(words = u$words, freq = u$N, min.freq = 1,max.words=200, random.order=FALSE, rot.per=0.35,colors=brewer.pal(8, &quot;Dark2&quot;))</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Regarding negative terms apart from traditionally negative words it is interesting to see things like â€œissuesâ€, â€œtwitchâ€, â€œcontrollerâ€. â€œTwitchâ€ could be fans aluding to the fact that it would have been better to hold the tournament in that platform.</p>
</div>
<div id="wordclouds-from-tweets" class="section level3">
<h3>Wordclouds from tweets</h3>
<p>Finally, we can also build wordlcouds directly from the tweets. We can make a positive-term wordcloud from the tweets with positive average sentiment and analogously for the negative terms.</p>
<p>First, letâ€™s do a quick cleaning of the text data so it doesnâ€™t appear in the clouds.</p>
<pre class="r"><code>twen[,text2 := gsub(&quot;https\\S*&quot;, &quot;&quot;, text)]
twen[,text2 := gsub(&quot;@\\S*&quot;, &quot;&quot;, text2) ]
twen[,text2 := gsub(&quot;#\\S*&quot;, &quot;&quot;, text2) ]
twen[,text2 := gsub(&quot;amp&quot;, &quot;&quot;, text2) ]
twen[,text2 := gsub(&quot;[\r\n]&quot;, &quot;&quot;, text2)]
twen[,text2 := gsub(&quot;[[:punct:]]&quot;, &quot;&quot;, text2)]</code></pre>
<p>We now make the wordclouds.</p>
<pre class="r"><code>u&lt;-unnest_tokens(twen[!grep(&quot;atHome&quot;,text)][ave_sentiment&gt;0,.(text2)],words,text2)[,.N,words][order(-N)]
u&lt;-u[!words %in% my_sw]
wordcloud(words = u$words, freq = u$N, min.freq = 5,max.words=200, random.order=FALSE, rot.per=0.35,colors=brewer.pal(8, &quot;Dark2&quot;),scale = c(1.5,0.5))</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>This time thereâ€™s a lot more terms in the wordcloud because the tweets are richer than the extracted term data. Many of the extra terms are realted to player names. Otherwise we see similar type of words as in the extracted term cloud.</p>
<pre class="r"><code>u&lt;-unnest_tokens(twen[!grep(&quot;atHome&quot;,text)][ave_sentiment&lt;0,.(text2)],words,text2)[,.N,words][order(-N)]
u&lt;-u[!words %in% my_sw]
wordcloud(words = u$words, freq = u$N, min.freq = 3,max.words=200, random.order=FALSE, rot.per=0.35,colors=brewer.pal(8, &quot;Dark2&quot;), scale = c(1.5,0.5))</code></pre>
<p><img src="/post/2020-05-01-analysing-tweets-from-the-virtual-madrid-open_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>The negative-tweet word cloud also now includes a lot of player names but we can see more hints of what poeple didnâ€™t like so much, i.e., terms like â€œcommentatorsâ€," internetâ€œ,â€wait" and â€œfacebookâ€.</p>
</div>
<div id="conclusion" class="section level3">
<h3>Conclusion</h3>
<p>We went on a whirlwind tour of several packages that can be used to analyse tweets or other types of text data. This is really only scratching the surface of what can be done so it will be interesting to keep exploring these packages and other ones such as <code>spacy</code> and <code>quanteda</code> which are used to do more complex things like parts-of-speech tagging, more comprehensive feature extraction and they also support more language models.</p>
<p>In terms of the tournament, there were some teething issues like the choice of streaming platform, players with bad internet connections and too much commentary rather than having players micâ€™ed up. However, the overall sentiment was positive and people seemed to welcome this type of innovation from the organisers. Weâ€™ll see how future online tournaments fare.</p>
<p>This site is being aggregated with permission by <a href="https://www.r-bloggers.com/">r-bloggers</a></p>
</div>
